{
 "cells": [
  {
   "cell_type": "markdown",
   "id": "55c2e44d",
   "metadata": {},
   "source": [
    "# Shark Atack - DAPT64 - Python\n",
    "\n",
    " <img src=\"https://yt3.ggpht.com/ytc/AKedOLTsY8IQxf6785cTQ-gcCnsZuLcaxjvMvbz56YxnkQ=s900-c-k-c0x00ffffff-no-rj\" style= \"max-width: 240px;max-height: 200px\">\n",
    "\n",
    "<><    <><    <><    <><    <><    <><    <><    <><    <><    <><    <><    <><    <><    <><    <><    <><    \n",
    "\n",
    "\n",
    ">  O projeto visa a utilização de algumas tecnicas para tratar a base de dados de ataques de tubarão no mundo e responder uma pergunta: O numero de ataque de tubarões tem aumentado? \n",
    "\n",
    "A base de dados de ataque de tubarões é composta por diversas origem, por este motivo há necessidade de uma primeira limpeza dos dados e uma padronização da informação posterior. O primeiro passo permite que seja feita uma analise visual dos dados e um segundo passo seja feita correções ou adequacções de dados para que sejam uniformizados para que sje apossivel fazer analises.\n",
    "\n",
    "No primeiro passo tivemos o seguinte resultado:\n",
    "\n",
    "<b> 1) Limpeza das Linhas: </b>\n",
    "<img src=\"linhas.png\">\n",
    "\n",
    "<b> 2) Limpeza das colunas: </b>\n",
    "<img src=\"colunas.png\">\n",
    "\n",
    "<u><i><b> RESULTADO: </b></i></u>\n",
    "\n",
    "Linhas: 6302\n",
    "\n",
    "Colunas: 16\n",
    "\n",
    "A partir desta tabela de dados começaremos a padronização dos dados.\n",
    "\n",
    "## Bibliotecas\n",
    "\n",
    "Para este estudo se optou pela utilização de 'bar race', que exigiu a instação das seguintes bibiliotecas:\n",
    "\n",
    "```sh\n",
    "!pip install tqdm\n",
    "!pip install matplotlib\n",
    "!pip install moviepy\n",
    "!pip install bar_chart_race\n",
    "\n",
    "import os\n",
    "import datetime\n",
    "import pandas as pd\n",
    "import numpy as np\n",
    "import seaborn as sns\n",
    "import re\n",
    "import moviepy.editor as mpy\n",
    "import bar_chart_race as bcr\n",
    "import matplotlib.animation as manimation; manimation.writers.list()  \n",
    "\n",
    "from matplotlib import pyplot as plt\n",
    "\n",
    "!conda install -c conda-forge bar_chart_race\n",
    "!conda install -c conda-forge ffmpeg\n",
    "```\n",
    "\n",
    "Para chegar na linha de codigo chave deste estudo:\n",
    "```sh\n",
    "import bar_chart_race as bcr\n",
    "\n",
    "bcr.bar_chart_race(tb_gp_graf5, filename='/SharkAttack.mp4', orientation='h', sort='desc', n_bars=5, fixed_order=False,\n",
    "                fixed_max=True, steps_per_period=25, period_length=1000, interpolate_period=False,\n",
    "                label_bars=True, bar_size=1, period_label=True, period_fmt=None, period_summary_func=None,\n",
    "                perpendicular_bar_func=None, figsize=(5, 3), cmap=None, title=None, title_size=None,\n",
    "                bar_label_size=12, tick_label_size=12, shared_fontdict=None, scale='linear', writer=None,\n",
    "                fig=None, dpi=100, bar_kwargs=None, filter_column_colors=False)                \n",
    "```\n",
    "\n",
    "Foi necessaria outas analises graficas e visual para chegar no resultado esperado, isto porque:\n",
    "\n",
    "1. Regex para colunas (para nao gerar duvida ao chamar) e datos das colunas (para padronização)\n",
    "2. Groupby para periodos, retirando periodos pouco precisos (por exemplo dados A.C.)\n",
    "3. Groupby para paises, retirando paises com ataques os casos esporadicos, alem de vazios\n",
    "\n",
    "Este e outros passos podem ser traduzidos pelos graficos:\n",
    "\n",
    "<b> Paises: </b>\n",
    "\n",
    "<img src=\"paises.png\">\n",
    "\n",
    "<b> Anos: </b>\n",
    "\n",
    "<img src=\"datas_001.png\">\n",
    "\n",
    "<img src=\"datas_002.png\">\n",
    "\n",
    "## Resultado\n",
    "\n",
    "Se optou por representar os dados depois de 1960 e anterior a 2017 e a selecao dos 10 primeiros paises ordenados de forma decrescente, o resultado abaixo:\n",
    "\n",
    "[![Watch the video](https://a-static.mlcdn.com.br/618x463/painel-de-festa-baby-shark-doo-doo-colormyhome/colormyhome/5615-19009/99af10e35d88b26babb33920636d0ef8.jpg)](https://youtu.be/-708eLV-Igw)\n",
    "\n",
    "<u><i><b> CONCLUSÃO: </b></i></u>\n",
    "\n",
    "O volume de dados aumenta ano a ano principalmente em tres pais: EUA, Africa do Sul e Australia. Mas o resultado não foi conclusivo, já que a composição da tabela de dados não traduz a realidade de algumas localidades, em que há noticias do aumento de casos e muitos deles não estão relatados na tabela.\n",
    "\n",
    "## Exemplo de uso\n",
    "\n",
    "Pelos graficos apresentados temos que:\n",
    "1. Sao casos dispersos, embora as pessoas tenham uma maior probabilidade de sofrer ataque como Africa do Sul, nao há uma padronizacao dos dados que garanta isto\n",
    "2. A forma de coleta, nem todos os casos sao registrados, exemplo do Brasil em que temos noticias de ataques de tubarao em Recife (PE) após a construcao do porto de Jaboatao dos Guarapes, de 1990 até 2021 foram 67 acidentes e a tabela registra uma media de 2 por ano (42).\n",
    "\n",
    "Embora a tabela conte com algumas incosistencias, nos permite analise de dados, em que até 1980 nenhum pais apresentava mais que 20 ataques por ano e havia troca de posicoes entre os paises, depois dos anos 2000 o numero de ataque cresce significativamente nos seguintes paises:\n",
    "* EUA\n",
    "* AUSTRALIA\n",
    "* AFRICA DO SUL\n",
    "\n",
    "Embora os tubaroes nao necessitem de passaportes e visa, nao é um comportamento que se espera deste animais, em que a manutencao da proporcionalidade dos casos deveriam ser mantidas.\n",
    "\n",
    "Por outro lado este tipo de analise permite fazer paralelo com produtos de marketing, competicoes esportivas e outros cenarios em que o estudo da estrategia de determinada equipe, compania ou produto faz com que tenha mais sucesso (seja medindo market share, gols, vezes que nome é mencionado na midia e etc)\n",
    "\n",
    "\n",
    "## Estudos possiveis\n",
    "\n",
    "Baseado na tabela:\n",
    "1. Poderiamos estudar os acontecimentos que levaram ao crescimento de casos dos EUA neste periodo de tempo\n",
    "2. Porque AFRICA DO SUL tem anos que está a frente dos EUA, ou porque AUSTRALIA esteve a frente dos dois\n",
    "3. Porque há um acrescimo de ataques de um ano para outro\n",
    "\n",
    "Embora seja muito distante, estes estudo permite que facamos paralelos como:\n",
    "1. Crescente consumo através de e-commerce na pandemia, depois da pandemia será mantido?\n",
    "2. Market share de varejistas brasileiros vs e-commerce como Amazon, qual a diferenca de estrategia e quando se deu a inversao?\n",
    "3. Ingresso de novos produtos concorrentes ou competidor, faz com que haja mudanca de outros produtos?"
   ]
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.8.8"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 5
}
